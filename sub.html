<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bubu Bot Premium</title>
  <meta name="color-scheme" content="dark">
  <meta name="theme-color" content="#5865F2">
  <style>
    :root{
      --bg:#323339;        /* page background */
      --card:#393a41;      /* container */
      --text:#ffffff;      /* primary text */
      --muted:#b7bbc6;     /* secondary text */
      --line:#4a4c55;      /* dividers */
      --accent:#5865F2;    /* Discord blurple */
      --btn:#5865F2;
      --btnText:#fff;
      --btnGhost:#2f3136;
      --btnGhostText:#d7dbe6;
      --pill:#2b2d33;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Noto Sans',sans-serif;
      display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .card{
      width:min(760px,100%);
      background:var(--card);
      border-radius:16px;
      box-shadow:0 8px 30px rgba(0,0,0,.35);
      padding:24px;
    }
    .header{
      display:flex; align-items:center; gap:12px; margin-bottom:8px;
    }
    .diamond{
      width:28px; height:28px; display:inline-grid; place-items:center;
      background:linear-gradient(180deg,#8dd6ff,#c9e7ff);
      border-radius:8px;
      color:#0b1b2a; font-weight:700;
    }
    h1{font-size:22px; margin:0}
    h2{font-size:18px; margin:8px 0 4px}
    .muted{color:var(--muted)}
    .divider{height:1px; background:var(--line); margin:14px 0}
    .list{display:grid; gap:10px; margin:10px 0 0}
    .row{display:flex; gap:10px; align-items:flex-start}
    .row b{color:#fff}
    .cta{
      margin-top:16px; display:flex; gap:10px; flex-wrap:wrap
    }
    .btn{
      appearance:none; border:0; border-radius:8px;
      padding:12px 16px; font-weight:600; cursor:pointer;
    }
    .btn.primary{background:var(--btn); color:var(--btnText)}
    .btn.ghost{background:var(--btnGhost); color:var(--btnGhostText)}
    .footer{
      margin-top:12px; color:var(--muted); font-size:14px
    }
    code.copy{
      display:block; width:100%;
      background:#2a2c32; color:#e6e8ee; border:1px solid var(--line);
      border-radius:8px; padding:10px 12px; word-break:break-all; margin-top:8px;
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:13px;
    }
    .pill{display:inline-block; background:var(--pill); padding:2px 8px; border-radius:999px; font-size:12px; color:#cfd3de}
    .hidden{display:none}
  </style>
</head>
<body>
  <div class="card" role="region" aria-label="Bubu Bot Premium">
    <div class="header">
      <div class="diamond">‚óÜ</div>
      <h1> Bubu Bot Premium</h1>
    </div>
    <h2>Get the Full Bubu Experience</h2>
    <div class="muted">Unlimited fun ‚Ä¢ Exclusive rewards ‚Ä¢ Rare collectibles</div>

    <div class="divider"></div>

    <div class="muted">Here‚Äôs what Premium includes:</div>
    <div class="list" aria-label="Premium perks">
      <div class="row">üéÆ <div><b>Unlimited Gameplay</b> ‚Äî Play all BubuBot games with no hourly or daily limits.</div></div>
      <div class="row">üí∞ <div><b>Bigger Multipliers & Rewards</b> ‚Äî Higher payouts and bonus multipliers across every game.</div></div>
      <div class="row">üëú <div><b>Rare Accessories & Collectibles</b> ‚Äî Unlock exclusive premium-only Bubus and outfits.</div></div>
      <div class="row">üéÅ <div><b>Future Giveaways</b> ‚Äî Automatic entry into monthly giveaways with real prizes.</div></div>
      <div class="row">üöÄ <div><b>Early Access to New Games</b> ‚Äî Play new modes and seasonal events before release.</div></div>
    </div>

    <div class="divider"></div>

    <!-- In-Discord instructions -->
    <div id="inDiscord" class="muted hidden">
      <p class="pill">Mobile Discord detected</p>
      <p><b>To subscribe on mobile:</b><br>
      Tap the <b>‚Ä¢‚Ä¢‚Ä¢</b> menu in the top-right and choose <b>Open in Browser</b>.<br>
      Then this page will automatically take you to the official Discord checkout.</p>

      <div class="cta">
        <button id="copy" class="btn ghost" type="button">Copy Link</button>
        <a id="openRaw" class="btn ghost" href="#" rel="noopener">Open Checkout (may be blocked)</a>
      </div>

      <code id="linkText" class="copy"></code>
    </div>

    <!-- Auto-redirect state -->
    <div id="redirecting" class="muted hidden">
      <p>Redirecting you to Discord checkout‚Ä¶</p>
      <div class="cta">
        <a id="openNow" class="btn primary" href="#" rel="noopener">Open Now</a>
        <button id="stay" class="btn ghost" type="button">Stay Here</button>
      </div>
    </div>

    <!-- Fallback idle state -->
    <div id="idle" class="muted hidden">
      <div class="cta">
        <a id="openIdle" class="btn primary" href="#" rel="noopener">Get Bubu Bot Premium</a>
      </div>
    </div>

    <div class="divider"></div>
    <div class="footer" id="footerNote"> </div>
  </div>

  <script>
    // ==== CONFIG ====
    const APP_ID = "1421896407140536401";
    const SKU_ID = "1427920614915702806";
    // Use the Discovery page ‚Äî best behavior in real browsers.
    const STORE_URL = `https://discord.com/discovery/applications/${APP_ID}/store/${SKU_ID}`;

    // ==== DETECTION ====
    const ua = navigator.userAgent || "";
    const ual = ua.toLowerCase();
    const isDiscord = ual.includes("discord");
    const isIOS = /iphone|ipad|ipod/.test(ual);
    const isAndroid = /android/.test(ual);
    const isMobile = isIOS || isAndroid;
    const inDiscordMobile = isDiscord && isMobile;

    // Elements
    const $ = (s)=>document.querySelector(s);
    const inDiscord = $("#inDiscord");
    const redirecting = $("#redirecting");
    const idle = $("#idle");
    const linkText = $("#linkText");
    const footerNote = $("#footerNote");

    // Wire links
    $("#openRaw").href = STORE_URL;
    $("#openNow").href = STORE_URL;
    $("#openIdle").href = STORE_URL;

    // Copy button
    $("#copy").addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(STORE_URL);
        $("#copy").textContent = "Copied!";
        setTimeout(()=>$("#copy").textContent = "Copy Link", 1800);
      } catch { /* ignore */ }
    });

    // "Stay Here" cancels auto redirect timer
    let redirectTimer = null;
    $("#stay").addEventListener("click", () => {
      if (redirectTimer) { clearTimeout(redirectTimer); redirectTimer = null; }
      $("#stay").textContent = "Auto-redirect canceled";
      $("#stay").disabled = true;
    });

    // ==== FLOW ====
    linkText.textContent = STORE_URL;

    if (inDiscordMobile) {
      // Inside Discord mobile webview: show instructions.
      inDiscord.classList.remove("hidden");
      footerNote.textContent = "Tip: If nothing happens, copy the link above and paste it into Safari/Chrome.";
    } else {
      // Real browser (desktop or mobile): redirect automatically (with a visible fallback).
      redirecting.classList.remove("hidden");
      footerNote.textContent = "If you weren‚Äôt redirected, click Open Now.";
      redirectTimer = setTimeout(() => {
        // Use replace so back button returns to the previous app/web page
        window.location.replace(STORE_URL);
      }, 600);
    }

    // Absolute fallback if JS is blocked (handled by the buttons/links).
  </script>

  <noscript>
    <style>#redirecting,.hidden{display:none!important}</style>
    <div class="muted" style="margin-top:10px">
      JavaScript is required to redirect you. Please click ‚ÄúGet Bubu Bot Premium‚Äù.
    </div>
  </noscript>
</body>
</html>
